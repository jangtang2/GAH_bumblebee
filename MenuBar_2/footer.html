<!-- ìƒë‹¨ ë©”ë‰´ ë°°ê²½ ìƒ‰ìƒ ë³€ê²½ ìŠ¤í¬ë¦½íŠ¸ - ë ˆì´ì•„ì›ƒ ìˆ˜ì • 20251030 -->
<script>
  (function () {
    if (window.innerWidth > 991) {
      window.debugLog && debugLog('âŒ ë°ìŠ¤í¬í†± í¬ê¸° - ëª¨ë°”ì¼ ìŠ¤í¬ë¦½íŠ¸ ì¢…ë£Œ', '#f00');
      return;
    }

    window.debugLog && debugLog('âœ… ëª¨ë°”ì¼ ìŠ¤í¬ë¦½íŠ¸ ì‹œìž‘', '#0f0');
    
    // CSSë¡œ ê°•ì œ ì°¨ë‹¨ ì¶”ê°€ + loading-txt ìˆ¨ê¸°ê¸° - 20251030 
    const style = document.createElement('style');
    style.textContent = `
      .menuToggle.customMenu.mo * {
        pointer-events: none !important;
      }
      .menuToggle.customMenu.mo {
        pointer-events: auto !important;
        z-index: 10000 !important;
      }
      /* loading-txtê°€ ë©”ë‰´ë¥¼ ê°€ë¦¬ì§€ ëª»í•˜ë„ë¡ */
      p.loading-txt {
        pointer-events: none !important;
        z-index: -1 !important;
      }
    `;
    document.head.appendChild(style);
    window.debugLog && debugLog('ðŸŽ¨ CSS ê°•ì œ ì ìš© ì™„ë£Œ (loading-txt ì°¨ë‹¨ í¬í•¨)', '#0ff');
    
    // loading-txt ìš”ì†Œë¥¼ ì§ì ‘ ì°¾ì•„ì„œ ìˆ¨ê¸°ê¸° - 20251030
    setTimeout(function() {
      const loadingElements = document.querySelectorAll('p.loading-txt');
      window.debugLog && debugLog(`ðŸ” loading-txt ìš”ì†Œ ${loadingElements.length}ê°œ ë°œê²¬`, '#fa0');
      loadingElements.forEach((el, i) => {
        el.style.setProperty('pointer-events', 'none', 'important');
        el.style.setProperty('z-index', '-1', 'important');
        el.style.setProperty('display', 'none', 'important');
        window.debugLog && debugLog(`  [${i}] loading-txt ë¹„í™œì„±í™”`, '#0f0');
      });
    }, 100);
    
    let initialized = false;

    function initMenu() {
      if (initialized) {
        window.debugLog && debugLog('âš ï¸ ì´ë¯¸ ì´ˆê¸°í™”ë¨ - ìŠ¤í‚µ', '#fa0');
        return true;
      }

      window.debugLog && debugLog('â”â”â”â” ì´ˆê¸°í™” ì‹œë„ â”â”â”â”', '#0ff');

      const navElement = document.querySelector('#s202507018bdbf5f2ae522');
      const slidingElement = document.getElementById('s20250701850c08f917f9f');
      const slidingContent = document.querySelector('.custom-menu-container');
      const menu = document.querySelectorAll('.menuToggle.customMenu.mo');

      window.debugLog && debugLog(`ðŸ” Nav ìš”ì†Œ: ${navElement ? 'âœ“ ì¡´ìž¬' : 'âœ— ì—†ìŒ'}`, navElement ? '#0f0' : '#f00');
      window.debugLog && debugLog(`ðŸ” Sliding ìš”ì†Œ: ${slidingElement ? 'âœ“ ì¡´ìž¬' : 'âœ— ì—†ìŒ'}`, slidingElement ? '#0f0' : '#f00');
      window.debugLog && debugLog(`ðŸ” Content ìš”ì†Œ: ${slidingContent ? 'âœ“ ì¡´ìž¬' : 'âœ— ì—†ìŒ'}`, slidingContent ? '#0f0' : '#f00');
      window.debugLog && debugLog(`ðŸ” Menu ë²„íŠ¼: ${menu.length}ê°œ`, menu.length > 0 ? '#0f0' : '#f00');

      if (!navElement || !slidingElement || !slidingContent || menu.length === 0) {
        window.debugLog && debugLog('âŒ í•„ìˆ˜ ìš”ì†Œ ë¶€ì¡± - ì´ˆê¸°í™” ì‹¤íŒ¨', '#f00');
        return false;
      }

      const blackSections = [''];
      const excludedSections = [''];
      const sections = document.querySelectorAll('.section_wrap.mobile_section');
      const textSpans = navElement.querySelectorAll('.custom-flow-container.mo .custom-flow-text span');
      const menuDivs = navElement.querySelectorAll('.menuToggle.customMenu.mo p');

      const navStyles = {
        opaque: {
          backgroundColor: 'rgba(0, 0, 0, 0.25)',
          color: '#fff',
          borderColor: 'rgba(187, 149, 111, 0.5)',
        },
        white: {
          backgroundColor: 'rgb(255, 255, 255)',
          color: '#c49a6c',
          borderColor: 'rgba(187, 149, 111, 0.5)',
        },
        black: {
          backgroundColor: '#162249',
          color: '#c49a6c',
          borderColor: 'rgba(187, 149, 111, 0.5)',
        },
      };

      function updateStyles(currentStyle) {
        Object.assign(navElement.style, {
          backgroundColor: currentStyle.backgroundColor,
          color: currentStyle.color,
          borderColor: currentStyle.borderColor,
        });

        textSpans.forEach((span) => {
          span.style.color = currentStyle.color;
        });

        menuDivs.forEach((p) => {
          p.style.backgroundColor = currentStyle.color;
        });

        menu.forEach((div) => {
          div.style.borderColor = currentStyle.borderColor;
        });
      }

      menu.forEach(function (menuBtn, index) {
        window.debugLog && debugLog(`â”â”â” ë©”ë‰´ ë²„íŠ¼ ${index} ì„¤ì • ì‹œìž‘ â”â”â”`, '#ff0');
        
        // ë²„íŠ¼ì˜ í˜„ìž¬ ìŠ¤íƒ€ì¼ ìƒíƒœ í™•ì¸
        const computedStyle = window.getComputedStyle(menuBtn);
        window.debugLog && debugLog(`  pointerEvents: ${computedStyle.pointerEvents}`, '#aaa');
        window.debugLog && debugLog(`  display: ${computedStyle.display}`, '#aaa');
        window.debugLog && debugLog(`  zIndex: ${computedStyle.zIndex}`, '#aaa');
        
        // ìžì‹ ìš”ì†Œ í™•ì¸
        const children = menuBtn.querySelectorAll('*');
        window.debugLog && debugLog(`  ìžì‹ ìš”ì†Œ: ${children.length}ê°œ`, '#aaa');
        
        // ìžì‹ ìš”ì†Œë“¤ì˜ pointer-events ë¹„í™œì„±í™”
        children.forEach((child, i) => {
          child.style.setProperty('pointer-events', 'none', 'important');
          void child.offsetHeight;
        });
        
        // positionì€ ê±´ë“œë¦¬ì§€ ì•Šê³  z-indexë§Œ ì ìš©
        menuBtn.style.setProperty('pointer-events', 'auto', 'important');
        menuBtn.style.setProperty('z-index', '10000', 'important');
        menuBtn.style.border = '2px solid red';
        menuBtn.style.boxSizing = 'border-box';
        
        void menuBtn.offsetHeight;
        
        const finalPE = window.getComputedStyle(menuBtn).pointerEvents;
        const finalZ = window.getComputedStyle(menuBtn).zIndex;
        window.debugLog && debugLog(`âœ… ë²„íŠ¼ ${index} ìµœì¢… pointerEvents: ${finalPE}, zIndex: ${finalZ}`, '#0f0');
        
        const handleMenuClick = function (e) {
          window.debugLog && debugLog(`â”â”â” ðŸŽ¯ ë©”ë‰´ í•¸ë“¤ëŸ¬ í˜¸ì¶œ! â”â”â”`, '#f0f');
          window.debugLog && debugLog(`  ì´ë²¤íŠ¸ íƒ€ìž…: ${e.type}`, '#f0f');
          window.debugLog && debugLog(`  í´ë¦­ëœ ìš”ì†Œ: ${e.target.tagName}.${e.target.className}`, '#f0f');
          
          e.preventDefault();
          e.stopPropagation();
          
          let expanded = menuBtn.getAttribute('aria-expanded') === 'true';
          window.debugLog && debugLog(`  í˜„ìž¬ ìƒíƒœ: ${expanded ? 'ì—´ë¦¼' : 'ë‹«íž˜'}`, '#ff0');

          if (!expanded) {
            window.debugLog && debugLog('ðŸ”“ ë©”ë‰´ ì—´ê¸° ì‹œìž‘...', '#0f0');
            document.body.classList.add('no-scroll');
            document.body.style.overflow = 'hidden';
            document.body.style.position = 'fixed';
            document.body.style.width = '100%';
            document.body.style.height = '100%';
            
            menuBtn.setAttribute('aria-expanded', 'true');
            slidingElement.classList.add('active');
            slidingContent.classList.add('active');
            updateStyles(navStyles.black);
            window.debugLog && debugLog('âœ… ë©”ë‰´ ì—´ë¦¼ ì™„ë£Œ!', '#0f0');
          } else {
            window.debugLog && debugLog('ðŸ”’ ë©”ë‰´ ë‹«ê¸° ì‹œìž‘...', '#f90');
            slidingContent.classList.remove('active');
            setTimeout(() => {
              document.body.classList.remove('no-scroll');
              document.body.style.overflow = '';
              document.body.style.position = '';
              document.body.style.width = '';
              document.body.style.height = '';
              
              menuBtn.setAttribute('aria-expanded', 'false');
              slidingElement.classList.remove('active');
              window.debugLog && debugLog('âœ… ë©”ë‰´ ë‹«íž˜ ì™„ë£Œ!', '#f90');
            }, 1000);
            setTimeout(() => {
              updateStyles(navStyles.opaque);
            }, 1600);
          }
        };

        window.debugLog && debugLog(`  touchstart ì´ë²¤íŠ¸ ë“±ë¡ ì¤‘...`, '#0af');
        menuBtn.addEventListener('touchstart', handleMenuClick, { passive: false });
        window.debugLog && debugLog(`  âœ“ touchstart ë“±ë¡ ì™„ë£Œ`, '#0af');
        
        window.debugLog && debugLog(`  click ì´ë²¤íŠ¸ ë“±ë¡ ì¤‘...`, '#0af');
        menuBtn.addEventListener('click', handleMenuClick);
        window.debugLog && debugLog(`  âœ“ click ë“±ë¡ ì™„ë£Œ`, '#0af');
        
        window.debugLog && debugLog(`âœ… ë²„íŠ¼ ${index} ì´ë²¤íŠ¸ ë“±ë¡ ì™„ë£Œ!`, '#0f0');
      });

      sections.forEach((section, index) => {
        if (excludedSections.includes(section.id)) {
          return;
        }
        if (blackSections.includes(section.id)) {
          section.dataset.background = 'black';
        } else if (index <= 3) {
          section.dataset.background = 'opaque';
        } else {
          section.dataset.background = 'white';
        }
      });

      function updateNavBackground() {
        let currentStyle = navStyles['opaque'];

        sections.forEach((section) => {
          const rect = section.getBoundingClientRect();

          if (excludedSections.includes(section.id)) {
            return;
          }

          if (rect.top <= 30 && window.pageYOffset !== 0) {
            currentStyle = navStyles[section.dataset.background];
          }
        });

        if (currentStyle && navElement.style.backgroundColor !== currentStyle.backgroundColor) {
          updateStyles(currentStyle);
        }
      }

      window.addEventListener('scroll', updateNavBackground, { passive: true });
      updateNavBackground();

      initialized = true;
      window.debugLog && debugLog('ðŸŽ‰ðŸŽ‰ðŸŽ‰ ì´ˆê¸°í™” ì™„ì „ ì™„ë£Œ! ðŸŽ‰ðŸŽ‰ðŸŽ‰', '#0ff');
      return true;
    }

    let attemptCount = 0;
    const maxAttempts = 30;

    function tryInitialize() {
      if (initialized) return;
      
      attemptCount++;
      window.debugLog && debugLog(`ðŸ”„ ì´ˆê¸°í™” ì‹œë„ ${attemptCount}/${maxAttempts}`, '#fa0');
      
      if (initMenu()) {
        window.debugLog && debugLog(`âœ… ${attemptCount}ë²ˆì§¸ ì‹œë„ì—ì„œ ì„±ê³µ!`, '#0f0');
        return;
      }
      
      if (attemptCount < maxAttempts) {
        setTimeout(tryInitialize, 200);
      } else {
        window.debugLog && debugLog('ðŸ’€ðŸ’€ðŸ’€ ìµœëŒ€ ì‹œë„ íšŸìˆ˜ ì´ˆê³¼ - ì´ˆê¸°í™” ì‹¤íŒ¨ ðŸ’€ðŸ’€ðŸ’€', '#f00');
      }
    }

    if (document.readyState === 'loading') {
      window.debugLog && debugLog('ðŸ“„ readyState=loading, DOMContentLoaded ëŒ€ê¸° ì¤‘...', '#0af');
      document.addEventListener('DOMContentLoaded', function() {
        window.debugLog && debugLog('ðŸ“„ DOMContentLoaded ì´ë²¤íŠ¸ ë°œìƒ!', '#0f0');
        tryInitialize();
      });
    } else {
      window.debugLog && debugLog('ðŸ“„ ì´ë¯¸ ë¡œë“œëœ ìƒíƒœ (readyState=' + document.readyState + ')', '#0f0');
      tryInitialize();
    }

    window.addEventListener('load', function() {
      window.debugLog && debugLog('ðŸŒ window load ì´ë²¤íŠ¸ ë°œìƒ!', '#0ff');
      setTimeout(function() {
        window.debugLog && debugLog('â±ï¸ load+100ms ìž¬ì‹œë„', '#fa0');
        tryInitialize();
      }, 100);
      setTimeout(function() {
        window.debugLog && debugLog('â±ï¸ load+500ms ìž¬ì‹œë„', '#fa0');
        tryInitialize();
      }, 500);
      setTimeout(function() {
        window.debugLog && debugLog('â±ï¸ load+1000ms ìž¬ì‹œë„', '#fa0');
        tryInitialize();
      }, 1000);
    });

  })();
</script>